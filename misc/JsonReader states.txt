States:
    INITIAL_STATE

    AFTER_START_OF_DOCUMENT
    AT_VALUE_OF_DOCUMENT
    AT_END_OF_DOCUMENT

    AFTER_START_OF_OBJECT
    AT_KEY_IN_OBJECT
    AFTER_KEY_IN_OBJECT
    AT_COLON_IN_OBJECT
    AT_VALUE_IN_OBJECT
    AFTER_VALUE_IN_OBJECT
    AT_COMMA_IN_OBJECT
    AT_END_OF_OBJECT

    AFTER_START_OF_ARRAY
    AT_VALUE_IN_ARRAY
    AFTER_VALUE_IN_ARRAY
    AT_COMMA_IN_ARRAY
    AT_END_OF_ARRAY

    AT_END_OF_NULL

    AT_END_OF_STREAM

    UNRECOVERABLE_ERROR

Events

    Tokens
    ------
    INVALID_TOKEN
    START_ARRAY
    END_ARRAY
    START_OBJECT
    END_OBJECT
    COLON
    COMMA
    STRING
    VALUE
    END_OF_BUFFER
    BLOCK_STRING

    COMMENT
    BLOCK_COMMENT
    WHITESPACE
    NEWLINE

    Non-tokens
    ----------
    ENTER_ARRAY
    ENTER_OBJECT
    ENTER_NULL

    LEAVE

Composite events:
    <whitespace>
        COMMENT
        BLOCK_COMMENT
        WHITESPACE
        NEWLINE

    <value>
        START_ARRAY
        START_OBJECT
        STRING
        VALUE
        BLOCK_STRING*


Transitions:

INITIAL_STATE
    <none> -> AFTER_START_OF_DOCUMENT

AFTER_START_OF_DOCUMENT
    <value>: AT_VALUE_OF_DOCUMENT

AT_VALUE_OF_DOCUMENT
    ENTER_ARRAY -> push AT_END_OF_DOCUMENT, AFTER_START_OF_ARRAY
    ENTER_OBJECT -> push AT_END_OF_DOCUMENT, AFTER_START_OF_OBJECT
    ENTER_NULL* -> push AT_END_OF_DOCUMENT, AT_END_OF_NULL

AT_END_OF_DOCUMENT

AFTER_START_OF_OBJECT
    STRING -> AT_KEY_IN_OBJECT
    VALUE* -> AT_KEY_IN_OBJECT
    END_OBJECT -> AT_END_OF_OBJECT

AT_KEY_IN_OBJECT
    <whitespace> -> AFTER_KEY_IN_OBJECT
    COLON -> AT_COLON_IN_OBJECT

AFTER_KEY_IN_OBJECT
    COLON -> AT_COLON_IN_OBJECT

AT_COLON_IN_OBJECT
    <value> -> AT_VALUE_IN_OBJECT

AT_VALUE_IN_OBJECT
    ENTER_ARRAY -> push AFTER_VALUE_IN_OBJECT, AFTER_START_OF_ARRAY
    ENTER_OBJECT -> push AFTER_VALUE_IN_OBJECT, AFTER_START_OF_OBJECT
    ENTER_NULL* -> push AFTER_VALUE_IN_OBJECT, AT_END_OF_NULL
    <whitespace> -> AFTER_VALUE_IN_OBJECT
    COMMA -> AT_COMMA_IN_OBJECT
    END_OBJECT -> AT_END_OF_OBJECT

AFTER_VALUE_IN_OBJECT
    COMMA -> AT_COMMA_IN_OBJECT
    END_OBJECT -> AT_END_OF_OBJECT
    STRING* -> AT_KEY_IN_OBJECT
    VALUE* -> AT_KEY_IN_OBJECT

AT_COMMA_IN_OBJECT
    STRING -> AT_KEY_IN_OBJECT
    VALUE* -> AT_KEY_IN_OBJECT
    END_OBJECT* -> AT_END_OF_OBJECT

AT_END_OF_OBJECT
    LEAVE -> pop

AFTER_START_OF_ARRAY
    <value> -> AT_VALUE_IN_ARRAY
    END_ARRAY -> AT_END_OF_ARRAY

AT_VALUE_IN_ARRAY
    ENTER_ARRAY -> push AFTER_VALUE_IN_ARRAY, AFTER_START_OF_ARRAY
    ENTER_OBJECT -> push AFTER_VALUE_IN_ARRAY, AFTER_START_OF_OBJECT
    ENTER_NULL* -> push AFTER_VALUE_IN_ARRAY, AT_END_OF_NULL
    <whitespace> -> AFTER_VALUE_IN_ARRAY
    COMMA -> AT_COMMA_IN_ARRAY
    END_ARRAY -> AT_END_OF_ARRAY

AFTER_VALUE_IN_ARRAY
    COMMA -> AT_COMMA_IN_ARRAY
    END_ARRAY -> AT_END_OF_ARRAY
    STRING* -> AT_VALUE_IN_ARRAY
    VALUE* -> AT_VALUE_IN_ARRAY

AT_COMMA_IN_ARRAY
    <value> -> AT_VALUE_IN_ARRAY
    END_ARRAY* -> AT_END_OF_ARRAY

AT_END_OF_ARRAY
    LEAVE -> pop

AT_END_OF_NULL
    LEAVE -> pop


Settings:
    Allow enter/leave null
    Allow value keys
    Read value as string
    Read strings as values
    Allow end element after comma
    --Treat whitespace as commas
    Allow comments
    Allow block strings

    Syntax extensions:
        --WHITESPACE_AS_VALUE_SEPARATOR

        STRINGS_AS_VALUES
        VALUES_AS_STRINGS
        END_ELEMENT_AFTER_COMMA
        COMMENTS
        BLOCK_STRINGS
        ENTER_NULL
        VALUES_AS_KEYS
        EXTENDED_INTEGERS

